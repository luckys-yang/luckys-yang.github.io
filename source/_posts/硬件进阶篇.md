---
title: 硬件进阶篇
cover: /img/num138.webp
categories:
  - 硬件
comments: false
abbrlink: d331a0bd
date: 2023-06-10 09:28:24
---



## 前言

{% note blue 'fas fa-fan' flat %}参考文章/资源网站{% endnote %}

[在线流程图](https://online.visual-paradigm.com/)

[STM32F407IGT6型号](https://www.32mcu.com/product.php?id=2258)

[我的github](https://github.com/luckys-yang/Advanced-hardware_study)

## 整体设计方案+电源方案

- MCU选型考虑

> 考虑因素：
> 一、品牌
>
> 1. 国产，国外
> 2. 主流，技术支持
> 3. 性能	
> 4. 是否熟练
> 5. 价格
>
> 二、系列
>
> 1. 功能
> 2. 速率
> 3. 功耗
> 4. 价格
>
> 三、具体型号
>
> 1. ROM，RAM
> 2. 集成外设
> 3. GPIO数量
> 4. 封装
> 5. 采购周期

-  整体设计框图

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610092644.webp)

- 电源功耗评估

> 输入电压： `24V/5A`     驱动大功率直流，步进，无刷电机等；
> 内部电压： `12V/1A`     驱动大功率MOS
>           `5V/3A`      驱动蜂鸣器，继电器，LDO输入电源
>           `3.8V/2A(瞬间)`  4G
>           `3.3V/1A`   NB-loT，LoRa，蓝牙，WIFI等无线模块
>           `3.3V/500mA`  MCU,其他IC
>
> ![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610115945.webp)

- 电源设计方案

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610115650.webp)

> 电路的效率是：$η = \frac{Vout}{Vin} \times \frac{Iout}{Iin}$
>
> `η` 表示 LDO 的电路效率； `Vout` 和  `Vin` 分别为输出和输入的电压； `Iout` 和  `Iin` 分别为输出和输入的电流
>
> 计算结果是百分比，LDO 电路的效率越高越好，LDO 电路的效率在 60% 到 80% 的范围内算是比较理想的



## STM32F4最小系统设计

- 我使用的是立创EDA 标准版，首先创建一个工程，然后创建多张原理图，采用模块化画图

> 视频教程用的是 orCAD16.6

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610144559.webp)

- 阅读STM32F4手册

> 看些设计用到的即可

{% gallery %}

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610161511.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610161552.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610161723.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610163001.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610163515.webp)

{% endgallery %}

- 开始设计

首先拖一个有 `176` 个引脚的封装到图纸上(注意可能有的只引出几十个引脚的，这种不要)，然后修改引脚，把 `常用的复用也加上去，不常用的可以不写`，参考手册引脚分布那

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230610173700.webp)
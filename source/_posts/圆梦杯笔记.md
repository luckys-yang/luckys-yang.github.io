---
title: 圆梦杯笔记
cover: /img/num142.webp
categories:
  - 比赛
comments: false
abbrlink: '11431921'
date: 2023-06-21 16:28:24
---



## 前言

{% note blue 'fas fa-fan' flat %}参考文章/博主{% endnote %}

[MQ-2烟雾传感器模块功能实现STM32](https://blog.csdn.net/nazonomaster/article/details/129322450?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168735495816800186575927%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168735495816800186575927&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~sobaiduend~default-1-129322450-null-null.268^v1^koosearch&utm_term=MQ-2%20stm32&spm=1018.2226.3001.4450)

[MQ-2烟雾浓度传感器（STM32F103）](https://blog.csdn.net/weixin_45419341/article/details/114273459?ops_request_misc=&request_id=&biz_id=102&utm_term=MQ-2%20stm32&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~sobaiduweb~default-1-114273459.268^v1^koosearch&spm=1018.2226.3001.4450)







{% note blue 'fas fa-fan' flat %}我的工程{% endnote %}

[github](https://github.com/luckys-yang/Dream_Cup2023)



## 准备阶段

- 用到的模块

TB店铺：优信电子科技

|              模块              |                       链接                       | 管脚分配                                                     |                             备注                             |
| :----------------------------: | :----------------------------------------------: | :----------------------------------------------------------- | :----------------------------------------------------------: |
|     SHT30数字温湿度传感器      | [淘宝](https://m.tb.cn/h.UzJKDhm?tk=daTxdrzKhaK) | PG11 -> SCL<br>PG12 -> SDA<br>GND -> GND<br>3.3V -> VCC      |     2.4-5.5V工作，I2C接口，温度精确度+-3°C，湿度+-0.3%RH     |
|       MQ-2烟雾传感器模块       | [淘宝](https://m.tb.cn/h.UBBJ3MN?tk=bDtvdrzqdzZ) | PC0(ADC123_IN10) -> A0<br>悬空 -> D0<br>GND -> GND<br>5V -> VCC |                         工作电压 5V                          |
|      火光/火焰传感器模块       | [淘宝](https://m.tb.cn/h.5a5glos?tk=W9HsdrzqGli) | PC1(ADC123_IN11) -> A0<br>悬空 -> D0<br>GND -> GND<br>3.3V -> VCC |                       工作电压 3.3V-5V                       |
|        ESP-01s无线模块         | [淘宝](https://m.tb.cn/h.UAioGQI?tk=3bXydrzqOrn) | PC10(U3_TX) -> RXD<br>PC11(U3_RX) -> TXD<br>GND -> GND<br>3.3V -> VCC<br>3.3V -> EN<br>PC12 -> RST<br>悬空 -> IO0<br>悬空 -> IO2 |                 3.0-3.6V工作，SPI Flash是1MB                 |
|      STM32F103ZET6系统板       | [淘宝](https://m.tb.cn/h.UAimHvn?tk=VnQZdrzME53) | /                                                            |                          3.3-5V工作                          |
| 小车底盘4驱带编码器电机+驱动板 | [淘宝](https://m.tb.cn/h.UBBKsOm?tk=igrUdrzLkv0) | /                                                            |                                                              |
|          0.96OLED模块          | [淘宝](https://m.tb.cn/h.UBzwelx?tk=BC76drAukg5) | PF6 -> SCL<br>PF7 -> SDA<br>GND -> GND<br>3.3V -> VCC        | 功耗正常显示时0.06W，I2C接口，3.3-5V工作，内部驱动IC是SSD1306 |
|      七路灰度光电寻迹模块      | [淘宝](https://m.tb.cn/h.Uz0UR9Y?tk=r6qrdIbd9YF) | PG0 -> R3<br>PG1 -> R2<br>PG2 -> R1<br>PG3 -> M<br>PG4 -> L1<br>PG5 -> L2<br>PG6 -> L3<br>5V -> VCC<br>GND -> GND<br> |              数字量(0,1)，工作电压5V，可调电阻               |
|           HMI串口屏            | [淘宝](https://m.tb.cn/h.UztQb0S?tk=45xFdIb6hyX) | GND -> GND<br>PA2(U2_TX) -> RXD<br>PA3(U2_RX) -> TXD<br>5V -> +5V<br> |                        K0系列，5V工作                        |
|     VL53L0X V2激光测距模块     | [淘宝](https://m.tb.cn/h.5aSYvkd?tk=qTAwdIbk6Y4) | 3.3V -> VIN<br>GND -> GND<br>PF8 -> SCL<br>PF9 -> SDA<br>悬空 -> GPIO1<br>悬空 -> XSHUT<br> |         I2C接口，最远测距2m，高精度下1.2m，3.3V供电          |

- 用到的器件

|         器件名称          | 数量 | 备注                                                         |
| :-----------------------: | :--: | :----------------------------------------------------------- |
|    XH 2.54mm 1x4P 弯插    |  1   | 线对板/线对线连接器                                          |
|  拨动开关 KH-SS12F17-G5   |  1   | 插件                                                         |
|    2.54mm 1x2P弯插方针    |  1   | /                                                            |
|       LM2596T-5.0G        |  1   | 降压型 输入4.5V~40V 输出4.8V~5.2V 3A                         |
|        AMS1117-3.3        |  1   | 线性稳压器(LDO)，最大输入电压18V，输出电压3.3V，输出电流1A   |
|    C0603封装100nF电容     |  6   |                                                              |
|    C1206封装100nF电容     |  1   | 相同电容值的电容器，尺寸越大，其最大耐受电压也就越高，较大封装的电容器由于体积更大，通常能够承受更大的最大电流 |
|     C1206封装22uF电容     |  2   |                                                              |
|  SLH1207S330MTT功率电感   |  1   | 33uH ±20%，额定电流3A，封装IND-SMD_L12.0-W12.0               |
|       1N5824二级管        |  1   | 30V 5A                                                       |
|     C0603封装10uF电容     |  2   |                                                              |
|      VLMTG1401-GS08       |  1   | 发光二极管/LED，正向电流20mA，颜色翠绿，0603封装             |
| 厚膜电阻 5.1kΩ ±1% 100mW  |  4   | 贴片电阻，0603封装                                           |
|      XL-1608SURC-06       |  1   | 发光二极管/LED，正向电流25mA，颜色红色，0603封装             |
|       XL-1608UBC-04       |  1   | 发光二极管/LED，正向电流25mA，颜色蓝色，0603封装             |
|  10kΩ ±1% 100mW贴片电阻   |  4   | 0603封装                                                     |
| TMB12A05电磁式有源蜂鸣器  |  1   | 插件，5V，给高低电平即可响                                   |
| 6x3.5x2.5mm 立贴 轻触开关 |  3   | 型号TSB008A2526A                                             |
|       贴片电阻 1kΩ        |  1   | 0603封装                                                     |
|      2.54mm 1x4P排母      |  2   | 直插                                                         |
|      2.54mm 1x4P排母      |  1   | 弯插                                                         |
|      2.54mm 2x4P排母      |  1   | 直插                                                         |
|     XH 2.5mm 1x9P直插     |  1   | 线对板/线对线连接器                                          |
|      2.54mm 1x6P排母      |  1   | 弯插                                                         |
|      2.54mm 2x4P排针      |  3   | 直插                                                         |



- 绘制原理图

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230623134811.webp)

- PCB以及3D效果图

{% gallery %}

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230623142033.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230623142102.webp)

{% endgallery %}

- 嘉立创免费下单即可，因为后面下单才知道丝印忘了画所以再下一单(免费2次刚刚好)，5块黑色5块白色

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230623142821.webp)



## 工程建立+MX配置

{% gallery %}

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230623152105.webp)

{% endgallery %}





 

## 模块

### SHT30

- 模块资料

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621191206.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621191331.webp)





### ESP-01S

- 模块资料

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621175441.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621180316.webp)

- 硬件电路







### MQ-2

- 模块资料

{% gallery %}

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621183610.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621183937.webp)

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621190531.webp)

{% endgallery %}



- 硬件电路











### 火光/火焰传感器

- 模块资料

> - 可以检测火焰或者波长在 760 纳米～1100 纳米范围内的光源
> - 灵敏度可调(电位器)
> - 对火焰的探测距离：跟灵敏度和火焰强度有关，一般 1m 以内适用，传感器与火焰要保持一定距离，以免高温损坏传感器
> - 工作电压 3.3V-5V
> - 输出形式 ---  a：模拟量电压输出  b：数字开关量输出（0 和 1） 

> VCC 外接 3.3V-5V 电压（可以直接与 5v 单片机和 3.3v 单片机相连） 
>
> GND 外接 GND 
>
> DO 小板数字量输出接口（0 和 1） 
>
> AO 小板模拟量输出接口 

> 模块在环境火焰光谱或者光源达不到设定阈值时， `D0口输出高电平`，当外界环境火焰光谱或者光源超过设定阈值时，模块 `D0输出低电平`，指示灯亮
>
> 模块数字量输出 D0 可以与单片机直接相连，通过单片机来检测高低电平，由此来检测环境的温度改变

> 将模块放置桌面上，在没有火焰光谱情况下，如板子开关指示灯亮，则调节调节蓝色电位器，直到开关指示灯灭，然后对着火焰传感器最前端约 30cm 处打开火机，会发现板上开关指示灯亮，然后然后熄灭打火机，则开关指示灯会灭

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621185731.webp)





### STM32F103ZET6系统板

- 芯片资料

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230621220256.webp)





### 0.96OLED模块



### 4驱带编码器电机





### HMI串口屏





### 七路灰度光电寻迹模块

- 模块资料

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230622001804.webp)

> 推荐探头离地 15-20mm
>
> 5V供电状态下的参考电流值：七路 --- 白光72mA  红光88mA 
>
> 7个引脚设置为输入上拉模式即可



### VL53L0X V2

- 模块资料

![](https://image-1309791158.cos.ap-guangzhou.myqcloud.com/其他/QQ截图20230622001633.webp)

> VCC：3.3V
>
> GND：参考地
>
> SCL：I2C通信的时钟线
>
> SDA：I2C通信的数据线
>
> XSHUT：芯片的使能管脚，电平1代表有效，电平0代表无效
>
> GPIO1：芯片的中断管脚